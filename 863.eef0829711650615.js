"use strict";(self.webpackChunkecommerce_alte=self.webpackChunkecommerce_alte||[]).push([[863],{7863:(j,p,a)=>{a.r(p),a.d(p,{AuthModule:()=>O});var f=a(6895),m=a(3128),t=a(8256);let _=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:2,vars:0,consts:[[1,"auth-layout"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[m.lC],styles:[".auth-layout[_ngcontent-%COMP%]{background-size:cover;background-position:center;background-repeat:no-repeat;height:100vh;display:flex;align-items:center;justify-content:center}"]}),e})();var r=a(433),v=a(7579),h=a(2722),Z=a(8505),g=a(9171);function T(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Email is required"),t.qZA())}function w(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Email is invalid"),t.qZA())}function C(e,i){if(1&e&&(t.TgZ(0,"div",9),t.YNc(1,T,2,0,"div",10),t.YNc(2,w,2,0,"div",10),t.qZA()),2&e){const n=t.oxw();let o,l;t.xp6(1),t.Q6J("ngIf",null==(o=n.form.get("email"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(l=n.form.get("email"))||null==l.errors?null:l.errors.email)}}function A(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Password is required"),t.qZA())}function N(e,i){if(1&e&&(t.TgZ(0,"div",9),t.YNc(1,A,2,0,"div",10),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=n.form.get("password"))||null==o.errors?null:o.errors.required)}}let b=(()=>{class e{constructor(n,o,l){this.router=n,this.authService=o,this.cartService=l,this.form=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required])}),this.sub$=new v.x}ngOnInit(){}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}submit(){this.form.markAllAsTouched(),this.form.invalid&&console.log("invalid"),console.log(this.form.value),this.authService.login(this.form.value).pipe((0,h.R)(this.sub$),(0,Z.b)(()=>{this.cartService.getCart().subscribe()})).subscribe(n=>{console.log(n),this.router.navigate(["/"])})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.F0),t.Y36(g.e8),t.Y36(g.Ni))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:17,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","floatingInput"],["class","mat-error mt-2 error",4,"ngIf"],["type","password","id","floatingPassword","placeholder","Password","formControlName","password",1,"form-control"],["for","floatingPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-dark"],[1,"mat-error","mt-2","error"],[4,"ngIf"]],template:function(n,o){if(1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(1,"h1",1),t._uU(2,"Please sign in"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"input",3),t.TgZ(5,"label",4),t._uU(6,"Email address"),t.qZA(),t.YNc(7,C,3,2,"div",5),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"div",2),t._UZ(10,"input",6),t.TgZ(11,"label",7),t._uU(12,"Password"),t.qZA(),t.YNc(13,N,2,1,"div",5),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"button",8),t._uU(16,"Sign in"),t.qZA()()),2&n){let l,s;t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("ngIf",(null==(l=o.form.get("email"))?null:l.invalid)&&(null==(l=o.form.get("email"))?null:l.touched)),t.xp6(6),t.Q6J("ngIf",(null==(s=o.form.get("password"))?null:s.invalid)&&(null==(s=o.form.get("password"))?null:s.touched))}},dependencies:[f.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["[_nghost-%COMP%]{display:block;height:50%;width:50%}.error[_ngcontent-%COMP%]{border:1px solid red;width:160px;text-align:center}"]}),e})();class q{static MatchValidator(i,n){return o=>{const l=o.get(i),s=o.get(n);return l&&s&&l.value!==s.value?{mismatch:!0}:null}}}function x(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"First name is required"),t.qZA())}function I(e,i){if(1&e&&(t.TgZ(0,"div",15),t.YNc(1,x,2,0,"div",16),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=n.form.get("firstName"))||null==o.errors?null:o.errors.required)}}function U(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Last name is required"),t.qZA())}function J(e,i){if(1&e&&(t.TgZ(0,"div",15),t.YNc(1,U,2,0,"div",16),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=n.form.get("lastName"))||null==o.errors?null:o.errors.required)}}function y(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Email is required"),t.qZA())}function P(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Email is invalid"),t.qZA())}function Y(e,i){if(1&e&&(t.TgZ(0,"div",15),t.YNc(1,y,2,0,"div",16),t.YNc(2,P,2,0,"div",16),t.qZA()),2&e){const n=t.oxw();let o,l;t.xp6(1),t.Q6J("ngIf",null==(o=n.form.get("email"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(l=n.form.get("email"))||null==l.errors?null:l.errors.email)}}function R(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Password is required"),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"div",15),t.YNc(1,R,2,0,"div",16),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=n.form.get("password"))||null==o.errors?null:o.errors.required)}}function L(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Confirm password is required"),t.qZA())}function M(e,i){if(1&e&&(t.TgZ(0,"div",15),t.YNc(1,L,2,0,"div",16),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=n.form.get("confirmPassword"))||null==o.errors?null:o.errors.required)}}function S(e,i){1&e&&(t.TgZ(0,"div",15),t._uU(1,"Passwords do not match"),t.qZA())}const F=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"",component:_,children:[{path:"login",component:b},{path:"register",component:(()=>{class e{constructor(n,o){this.authService=n,this.router=o,this.form=new r.cw({firstName:new r.NI("",[r.kI.required]),lastName:new r.NI("",[r.kI.required]),email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required]),confirmPassword:new r.NI("",[r.kI.required])},[q.MatchValidator("password","confirmPassword")])}ngOnInit(){}get passwordMatchError(){return this.form.getError("mismatch")&&this.form.get("confirmPassword")?.touched}submit(){this.form.markAllAsTouched(),this.form.invalid?console.log("invalid"):(console.log(this.form.value),this.authService.register(this.form.value).subscribe(n=>{console.log(n),this.router.navigate(["/auth/login"])}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.e8),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:36,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","text","id","floatingFirstName","placeholder","First name","formControlName","firstName",1,"form-control"],["for","floatingFirstName"],["class","mat-error mt-2 error",4,"ngIf"],["type","text","id","floatingLastName","placeholder","Last name","formControlName","lastName",1,"form-control"],["for","floatingLastName"],["type","text","id","floatingEmail","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","floatingEmail"],["type","password","id","floatingInput1","placeholder","Password","formControlName","password",1,"form-control"],["for","floatingInput1"],["type","password","id","floatingConfirmPassword","placeholder","Confirm password","formControlName","confirmPassword",1,"form-control"],["for","floatingConfirmPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-dark"],[1,"mat-error","mt-2","error"],[4,"ngIf"]],template:function(n,o){if(1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(1,"h1",1),t._uU(2,"Please sign up"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"input",3),t.TgZ(5,"label",4),t._uU(6,"First name"),t.qZA(),t.YNc(7,I,2,1,"div",5),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"div",2),t._UZ(10,"input",6),t.TgZ(11,"label",7),t._uU(12,"Last name"),t.qZA(),t.YNc(13,J,2,1,"div",5),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"div",2),t._UZ(16,"input",8),t.TgZ(17,"label",9),t._uU(18,"Email address"),t.qZA(),t.YNc(19,Y,3,2,"div",5),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"div",2),t._UZ(22,"input",10),t.TgZ(23,"label",11),t._uU(24,"Password"),t.qZA(),t.YNc(25,Q,2,1,"div",5),t.qZA(),t._UZ(26,"br"),t.TgZ(27,"div",2),t._UZ(28,"input",12),t.TgZ(29,"label",13),t._uU(30,"Confirm password"),t.qZA(),t.YNc(31,M,2,1,"div",5),t.YNc(32,S,2,0,"div",5),t.qZA(),t._UZ(33,"br"),t.TgZ(34,"button",14),t._uU(35,"Sign up"),t.qZA()()),2&n){let l,s,u,d,c;t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("ngIf",(null==(l=o.form.get("firstName"))?null:l.invalid)&&(null==(l=o.form.get("firstName"))?null:l.touched)),t.xp6(6),t.Q6J("ngIf",(null==(s=o.form.get("lastName"))?null:s.invalid)&&(null==(s=o.form.get("lastName"))?null:s.touched)),t.xp6(6),t.Q6J("ngIf",(null==(u=o.form.get("email"))?null:u.invalid)&&(null==(u=o.form.get("email"))?null:u.touched)),t.xp6(6),t.Q6J("ngIf",(null==(d=o.form.get("password"))?null:d.invalid)&&(null==(d=o.form.get("password"))?null:d.touched)),t.xp6(6),t.Q6J("ngIf",(null==(c=o.form.get("confirmPassword"))?null:c.invalid)&&(null==(c=o.form.get("confirmPassword"))?null:c.touched)),t.xp6(1),t.Q6J("ngIf",o.passwordMatchError)}},dependencies:[f.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["[_nghost-%COMP%]{display:block;height:50%;width:50%}.error[_ngcontent-%COMP%]{border:1px solid red;width:160px;text-align:center}"]}),e})()}]}];let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(F),m.Bz]}),e})();var E=a(529);let O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.ez,k,r.u5,r.UX,E.JF]}),e})()}}]);