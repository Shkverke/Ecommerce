"use strict";(self.webpackChunkecommerce_alte=self.webpackChunkecommerce_alte||[]).push([[602],{7602:(_,m,a)=>{a.r(m),a.d(m,{CategoriesModule:()=>Z});var l=a(6895),c=a(3128),t=a(8256),u=a(6943);const g=function(e){return["/manager/categories/edit",e]};function p(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"button",4),t._uU(5,"Edit"),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){const x=t.CHM(r).$implicit,T=t.oxw();return t.KtG(T.deleteItem(x.id))}),t._uU(7,"X"),t.qZA()()()}if(2&e){const r=o.$implicit;t.xp6(2),t.Oqu(null==r?null:r.name),t.xp6(2),t.Q6J("routerLink",t.VKq(2,g,r.id))}}let f=(()=>{class e{constructor(r){this.categoryService=r,this.categories=[]}ngOnInit(){this.getAll()}getAll(){this.categoryService.getAll().pipe().subscribe(r=>{this.categories=r})}deleteItem(r){this.categoryService.deleteItem(r).pipe().subscribe(()=>{this.getAll()})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(u.H))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-categories"]],decls:11,vars:1,consts:[[1,"p-2","d-flex","justify-content-end"],["routerLink","/manager/categories/create",1,"btn","btn-dark"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-dark","mr-2",3,"routerLink"],[1,"btn","btn-1","btn-danger",3,"click"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"button",1),t._uU(2,"Add"),t.qZA()(),t.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"Name"),t.qZA(),t._UZ(8,"th"),t.qZA()(),t.TgZ(9,"tbody"),t.YNc(10,p,8,4,"tr",3),t.qZA()()),2&r&&(t.xp6(10),t.Q6J("ngForOf",n.categories))},dependencies:[l.sg,c.rH],styles:[".btn-1[_ngcontent-%COMP%]{border-radius:30px;margin-left:10px}"]}),e})();var i=a(433),h=a(3900),C=a(9646);function v(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1,"Name is required"),t.qZA())}function y(e,o){if(1&e&&(t.TgZ(0,"div",7),t.YNc(1,v,2,0,"div",8),t.qZA()),2&e){const r=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=r.form.get("name"))||null==n.errors?null:n.errors.required)}}let d=(()=>{class e{constructor(r,n,s){this.categoryService=r,this.route=n,this.router=s,this.form=new i.cw({id:new i.NI(null),name:new i.NI("",i.kI.required)})}ngOnInit(){this.route.params.pipe((0,h.w)(r=>r.id?this.categoryService.getOne(r.id):(0,C.of)(null))).subscribe(r=>{r&&this.form.patchValue(r)})}submit(){this.form.markAllAsTouched(),!this.form.invalid&&(this.form.value.id?this.categoryService.update(this.form.value.id,this.form.value).pipe().subscribe(()=>{this.router.navigate(["/manager/categories"]).then(()=>{this.form.reset()})}):this.categoryService.create(this.form.value).pipe().subscribe(()=>{this.router.navigate(["/manager/categories"]).then(()=>{this.form.reset()})}))}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(u.H),t.Y36(c.gz),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-category-add-edit"]],decls:9,vars:2,consts:[[1,"category-layout"],[3,"formGroup","ngSubmit"],[1,"form-group","mt-5"],["for","name"],["type","text","id","name","placeholder","Name","formControlName","name",1,"form-control"],["class","mat-error mt-2 error",4,"ngIf"],["type","submit",1,"btn","btn-dark","mt-3"],[1,"mat-error","mt-2","error"],[4,"ngIf"]],template:function(r,n){if(1&r&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(2,"div",2)(3,"label",3),t._uU(4,"Name"),t.qZA(),t._UZ(5,"input",4),t.YNc(6,y,2,1,"div",5),t.qZA(),t.TgZ(7,"button",6),t._uU(8,"Submit"),t.qZA()()()),2&r){let s;t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(5),t.Q6J("ngIf",(null==(s=n.form.get("name"))?null:s.invalid)&&(null==(s=n.form.get("name"))?null:s.touched))}},dependencies:[l.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".category-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;grid-gap:20px;align-self:center;margin-left:500px}.error[_ngcontent-%COMP%]{border:1px solid red;width:160px;text-align:center}"]}),e})();const b=[{path:"",component:f},{path:"create",component:d},{path:"edit/:id",component:d}];let A=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(b),c.Bz]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,A,i.UX]}),e})()}}]);