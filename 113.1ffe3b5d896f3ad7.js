"use strict";(self.webpackChunkecommerce_alte=self.webpackChunkecommerce_alte||[]).push([[113],{4113:(b,p,c)=>{c.r(p),c.d(p,{ProductsModule:()=>y});var d=c(6895),s=c(3128),t=c(8256),u=c(9171),l=c(6943);let m=(()=>{class e{constructor(n,o,i){this.authService=n,this.cartService=o,this.router=i,this.product={}}addToCart(){this.authService.token?this.cartService.addToCart({productId:this.product.id,quantity:1}).subscribe():this.router.navigate(["/auth/login"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.e8),t.Y36(u.Ni),t.Y36(s.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-card"]],inputs:{product:"product"},decls:19,vars:7,consts:[[1,"card"],[1,"image"],["alt","product image",3,"src"],[1,"container"],[1,"product"],[1,"category"],[1,"title"],[1,"desc"],[1,"price-box","d-flex","j"],[1,"price","w-50","justify-content-center","pt-3"],[1,"cart","w-50"],[1,"btn","btn-dark",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"p",5),t._uU(6),t.qZA(),t.TgZ(7,"h1",6),t._uU(8),t.qZA(),t.TgZ(9,"p",7),t._uU(10),t.qZA(),t.TgZ(11,"div",8)(12,"div",9)(13,"h2"),t._uU(14),t.ALo(15,"currency"),t.qZA()(),t.TgZ(16,"div",10)(17,"button",11),t.NdJ("click",function(){return o.addToCart()}),t._uU(18,"ADD to CART"),t.qZA()()()()()()),2&n&&(t.xp6(2),t.s9C("src",o.product.image,t.LSH),t.xp6(4),t.Oqu(o.product.category.name),t.xp6(2),t.Oqu(o.product.name),t.xp6(2),t.Oqu(o.product.description),t.xp6(4),t.Oqu(t.lcZ(15,5,o.product.price)))},dependencies:[d.H9],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:85%;height:100%;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 8px #00000042;transition:all .3s ease-out}.card[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{justify-content:center;align-items:center;padding:1rem}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:15rem;object-fit:cover;object-position:center;margin-bottom:1rem}.card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:.8rem;color:#888;text-align:end;margin-top:-10px}.card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin:.5rem 0;text-align:center}.card[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:.8rem;color:#212529;text-align:start}.card[_ngcontent-%COMP%]   .price-box[_ngcontent-%COMP%]{font-size:calc(12px + .3vw);width:90%;height:44px;position:absolute;bottom:-20px;left:50%;transform:translate(-50%);align-items:stretch}.card[_ngcontent-%COMP%]   .price-box[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{background:#3d3d3d;color:#fff;margin:0;border-bottom-left-radius:10px;border-top-left-radius:10px;display:flex;align-items:center;justify-content:center;flex-direction:column;line-height:1;padding:0 1rem}.card[_ngcontent-%COMP%]   .price-box[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{border-radius:0 10px 10px 0;margin:0;background:var(--mainColorOne);display:flex;align-items:center;justify-content:center;font-size:calc(20px + .3vw);cursor:pointer;transition:all .3s ease-out;background-color:#000;color:#fff}.card[_ngcontent-%COMP%]   .price-box[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;width:100%;height:100%;padding:0}"]}),e})();var a=c(433);const f=function(e){return{category:e}},g=function(){return["/products"]};function h(e,r){if(1&e&&(t.TgZ(0,"li",10),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.Q6J("queryParams",t.VKq(3,f,n.id))("routerLink",t.DdM(5,g)),t.xp6(1),t.hij(" ",n.name,"")}}function C(e,r){1&e&&t._UZ(0,"app-product-card",13),2&e&&t.Q6J("product",r.$implicit)}function P(e,r){if(1&e&&(t.TgZ(0,"div",11),t.YNc(1,C,1,1,"app-product-card",12),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.products)}}function x(e,r){1&e&&(t.TgZ(0,"div",14)(1,"h3",15),t._uU(2,"No products found !"),t.qZA(),t._UZ(3,"img",16),t.qZA())}const _=[{path:"",component:(()=>{class e{constructor(n,o,i){this.productService=n,this.categoryService=o,this.route=i,this.products=[],this.categories$=this.categoryService.getAll()}ngOnInit(){this.route.queryParams.subscribe(n=>{this.categoryId=n.category,this.search=n.search,this.getProducts()})}getProducts(){this.productService.getProducts({categoryId:this.categoryId||void 0,search:this.search||null}).pipe().subscribe(o=>{this.products=o})}searchHandle(n){this.search=n,this.categoryId=void 0,this.getProducts()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.M5),t.Y36(l.H),t.Y36(s.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-products"]],decls:17,vars:8,consts:[[1,"d-flex","gap-5"],[1,"wrap"],[1,"text-center"],[3,"routerLink"],[3,"queryParams","routerLink",4,"ngFor","ngForOf"],[1,"flex-fill"],[1,"search"],["placeholder","Search...","type","search",1,"form-control",3,"ngModel","ngModelChange"],["class","product-items",4,"ngIf","ngIfElse"],["noProducts",""],[3,"queryParams","routerLink"],[1,"product-items"],[3,"product",4,"ngFor","ngForOf"],[3,"product"],[1,"no-product"],[1,"total"],["alt","product not found","src","assets/images/search.png",1,"img-fluid","w-25","mt-5"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2)(3,"strong"),t._uU(4,"Choose Category"),t.qZA()(),t.TgZ(5,"ul")(6,"li",3),t._uU(7,"All"),t.qZA(),t.YNc(8,h,2,6,"li",4),t.ALo(9,"async"),t.qZA()(),t.TgZ(10,"div",5)(11,"div",6)(12,"input",7),t.NdJ("ngModelChange",function(v){return o.searchHandle(v)}),t.qZA()(),t._UZ(13,"div"),t.YNc(14,P,2,1,"div",8),t.YNc(15,x,4,0,"ng-template",null,9,t.W1O),t.qZA()()),2&n){const i=t.MAs(16);t.xp6(6),t.Q6J("routerLink",t.DdM(7,g)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(9,5,o.categories$)),t.xp6(4),t.Q6J("ngModel",o.search),t.xp6(2),t.Q6J("ngIf",o.products.length)("ngIfElse",i)}},dependencies:[d.sg,d.O5,s.rH,m,a.Fj,a.JJ,a.On,d.Ov],styles:[".product-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-gap:25px 10px;margin:40px 0}.category-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin:10px 0;font-size:20px}.search[_ngcontent-%COMP%]{display:flex;width:500px;justify-content:center;margin:0 30px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;outline:none}ul[_ngcontent-%COMP%]{padding:0;max-width:300px;cursor:pointer}li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 0;box-sizing:border-box;border-bottom:1px solid #ccc}li[_ngcontent-%COMP%]:last-child{border-bottom:none}li[_ngcontent-%COMP%]:hover{background:rgba(52,53,51,.4);box-shadow:0 0 11px #21212133}.no-product[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:20px 0}.no-product[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-top:1rem}"]}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(_),s.Bz]}),e})();var O=c(1912);let y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,M,O.$,a.u5]}),e})()}}]);